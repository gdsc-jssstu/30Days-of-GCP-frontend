<!DOCTYPE html>
<html lang="en">
  <head>
    <title>GCP</title>
    <link rel="stylesheet" href="static/css/main.css" />
    <link rel="stylesheet" href="static/css/typing.css" />
    <link rel="stylesheet" href="static/css/style.css" />
    <link rel="stylesheet" href="static/css/chat.css" />

    <!-- <link rel="stylesheet" href="static/js/Chat.js" />
    <link rel="stylesheet" href="static/js/app.js" /> -->

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,600;1,300&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <nav class="navbar">
          <a href="#"><img class="logo" src="static/images/logo.png" /></a>
          <ul class="nav-menu">
            <li class="nav-item">
              <a href="https://dscjssstu.in/" class="nav-link">GDSC JSSSTU</a>
            </li>
            <li class="nav-item">
              <a
                href="https://events.withgoogle.com/30daysofgooglecloud/"
                class="nav-link"
                >GCP</a
              >
            </li>
            <li class="nav-item">
              <a
                href="https://gdsc.community.dev/jss-science-technology-university-mysuru/"
                class="nav-link"
                >Join Us</a
              >
            </li>
          </ul>
          <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div>
        </nav>
      </header>
      <div center class="content">
        <h2>About 30 Days of Google Cloud</h2>
        <p style="font-weight: 350; font-size: 1.2rem; color: #848484">
          30 Days of Google Cloud program will provide you an opportunity to
          kickstart your career in cloud and get hands-on practice on Google
          Cloud Platform - the tool that powers apps like Google Search, Gmail
          and YouTube.
        </p>
        <h2 style="padding-top: 30px">Earn valuable badges and fun goodies!</h2>
        <p
          style="
            font-weight: 350;
            font-size: 1.2rem;
            color: #848484;
            padding-bottom: 30px;
          "
        >
          On the succesful completion of this event, participants will stand a
          chance to win goodies like laptop bags, customised T-shirts and Google
          Cloud Sticker packs.
        </p>
        <div class="goodies-row">
          <a href="#"
            ><img class="goodies-col" src="static/images/tshirt.jpg"
          /></a>
          <a href="#"
            ><img class="goodies-col" src="static/images/stickers.png"
          /></a>
          <a href="#"
            ><img class="goodies-col" src="static/images/bottle.jpg"
          /></a>
          <a href="#"
            ><img class="goodies-col" src="static/images/bag.jpg"
          /></a>
        </div>
        <h2 style="text-align: center; padding-top: 30px">
          We have two exciting tracks for you:
        </h2>
      </div>

      <div class="row">
        <div class="column">
          <div class="scrolly">
            <div class="card" id="cloud">
              <h3>Cloud Engineering</h3>
              <p>List of quests to be completed</p>
              <ul>
                <li>
                  <a href="#" class="btn_3"
                    >Getting Started: Create and Manage Cloud Resources</a
                  >
                </li>
                <li>
                  <a href="#" class="btn_3"
                    >Perform Foundational Infrastructure Tasks In Google
                    Cloud</a
                  >
                </li>
                <li>
                  <a href="#" class="btn_3"
                    >Setup and Configure a Cloud Environment in Google Cloud</a
                  >
                </li>
                <li>
                  <a href="#" class="btn_3"
                    >Deploy and Manage Cloud Environments with Google Cloud</a
                  >
                </li>
                <li>
                  <a href="#" class="btn_3"
                    >Build and Secure Networks in Google Cloud</a
                  >
                </li>
                <li>
                  <a href="#" class="btn_3"
                    >Deploy to Kubernetes in Google Cloud</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="column">
          <div class="card" id="datascience">
            <h3>Data Science & Machine Learning</h3>
            <p>List of quests to be completed</p>
            <ul>
              <li>
                <a href="#" class="btn_3"
                  >Getting Started: Create and Manage Cloud Resources</a
                >
              </li>
              <li>
                <a href="#" class="btn_3"
                  >Perform Foundational Data, ML, and AI Tasks in Google
                  Cloud</a
                >
              </li>
              <li>
                <a href="#" class="btn_3">Insights from Data with BigQuery</a>
              </li>
              <li>
                <a href="#" class="btn_3">Engineer Data in Google Cloud</a>
              </li>
              <li>
                <a href="#" class="btn_3"
                  >Integrate with Machine Learning APIs</a
                >
              </li>
              <li>
                <a href="#" class="btn_3"
                  >Explore Machine Learning Models with Explainable AI</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- <div>{% set pred='' %} {{pred}}</div> -->
      <hr class="footer__hr" />
      <div class="footer">
        <div class="col">
          <h4>Tracks</h4>
          <p><a href="#cloud">Cloud Engineering Track</a></p>
          <p>
            <a href="#datascience">Data Science and Machine Learning Track</a>
          </p>
        </div>
        <div class="col">
          <h4>Connect With Us:</h4>
          <a href="https://www.linkedin.com/company/dsc-jssstu/"
            ><i
              class="fa fa-linkedin"
              style="font-size: 36px; padding: 2px; color: black"
            ></i
          ></a>
          <a href="https://github.com/gdsc-jssstu"
            ><i
              class="fa fa-github"
              style="font-size: 36px; padding: 2px; color: black"
            ></i
          ></a>
          <a href="https://instagram.com/gdscjssstu/"
            ><i
              class="fa fa-instagram"
              style="font-size: 36px; padding: 2px; color: black"
            ></i
          ></a>
        </div>
        <!-- <div class="col">
          <h4>Contact:</h4>
          <a
            href="https://api.whatsapp.com/send/?phone=%2B916362942135&text&app_absent=0"
            ><i class="fa fa-whatsapp" style="font-size: 36px; color: black"></i
          ></a>
        </div> -->
      </div>
      <hr class="footer__hr" />

      <div class="chatbox">
        <div class="chatbox__support">
          <div
            class="chatbox__header"
            style="display: flex; align-items: center"
          >
            <div class="chatbox__content--header" style="color: aliceblue">
              Let's Chat!
            </div>
          </div>
          <div class="chatbox__messages">
            <div class="chatbox2">Heyy! Ask me anything</div>
            <div>
              <script>
                for (let i = 0; i < arr.length; i++) {
                  for (let j = 0; j < arr.length; j++) {
                    if (j % 2 === 0) {
                      let div = document.createElement("div");
                      div.className = "chatbox1";
                      div.innerHTML = arr[i][j] + <br />;
                      document
                        .getElementsByClassName("chatbox__messages")[0]
                        .appendChild(div);
                    }
                    //  document.getElementsByClassName("chatbox1")[0].innerHTML= arr[i][j];
                    else {
                      let div = document.createElement("div");
                      div.className = "chatbox2";
                      div.innerHTML = arr[i][j] + <br />;
                      document
                        .getElementsByClassName("chatbox__messages")[0]
                        .appendChild(div);
                    }
                  }
                }
              </script>
            </div>
          </div>

          <div class="inputarea chatbox__footer">
            <form action="/index" method="POST" class="formsize" id="form">
              <h3>
                <input
                  type="text"
                  placeholder="Enter Message..."
                  name="Question"
                  class="inputField"
                  id="user_input"
                />
                <input type="submit" value="Send" id="snd_btn" />
                <!-- <i class="fa fa-paper-plane" aria-hidden="true"></i> -->
              </h3>
            </form>
          </div>
        </div>
        <div class="chatbox__button">
          <button>button</button>
        </div>
      </div>
    </div>

    <!-- javascript -->
    <script>
      /* navbar */
      const hamburger = document.querySelector(".hamburger");
      const navMenu = document.querySelector(".nav-menu");

      hamburger.addEventListener("click", mobileMenu);

      function mobileMenu() {
        hamburger.classList.toggle("active");
        navMenu.classList.toggle("active");
      }

      const navLink = document.querySelectorAll(".nav-link");
      navLink.forEach((n) => n.addEventListener("click", closeMenu));

      function closeMenu() {
        hamburger.classList.remove("active");
        navMenu.classList.remove("active");
      }
      function navSlider() {
        console.log(this.scrollY);
        if(this.scrollY > this.innerHeight / 2){
          hamburger.classList.remove("active");
          navMenu.classList.remove("active");
        }
      }
      window.addEventListener("scroll", navSlider);

      /* helps Refresh Page and Keep Scroll Position */
      document.addEventListener("DOMContentLoaded", function (event) {
        var scrollpos = localStorage.getItem("scrollpos");
        if (scrollpos) window.scrollTo(0, scrollpos);
      });

      window.onbeforeunload = function (e) {
        localStorage.setItem("scrollpos", window.scrollY);
      };

      /*chatbot button and ui space*/
      class InteractiveChatbox {
        constructor(a, b, c) {
          this.args = {
            button: a,
            chatbox: b,
          };
          this.icons = c;
          this.state = false;
        }

        display() {
          const { button, chatbox } = this.args;

          button.addEventListener("click", () => this.toggleState(chatbox));
        }

        toggleState(chatbox) {
          this.state = !this.state;
          this.showOrHideChatBox(chatbox, this.args.button);
        }

        showOrHideChatBox(chatbox, button) {
          if (this.state) {
            chatbox.classList.add("chatbox--active");
            this.toggleIcon(true, button);
          } else if (!this.state) {
            chatbox.classList.remove("chatbox--active");
            this.toggleIcon(false, button);
          }
        }

        toggleIcon(state, button) {
          const { isClicked, isNotClicked } = this.icons;
          let b = button.children[0].innerHTML;

          if (state) {
            button.children[0].innerHTML = isClicked;
          } else if (!state) {
            button.children[0].innerHTML = isNotClicked;
          }
        }
      }

      const chatButton = document.querySelector(".chatbox__button");
      const chatContent = document.querySelector(".chatbox__support");
      const icons = {
        isClicked: '<img src="./static/images/bluechat.svg" />',
        isNotClicked: '<img src="./static/images/bluechat.svg" />',
      };
      const chatbox = new InteractiveChatbox(chatButton, chatContent, icons);
      chatbox.display();
      chatbox.toggleIcon(false, chatButton);

      /*chatbot logic*/
      var form = document.getElementById("form");
      var history_element =
        document.getElementsByClassName("chatbox__messages")[0];
      var user_input = document.getElementById("user_input");
      form.addEventListener("submit", handleForm);

      function handleForm(event) {
        event.preventDefault();
        let new_msg = document.createElement("div");

        let user_msg_element = document.createElement("div");
        user_msg_element.className = "chatbox1";
        user_msg_element.append(user_input.value);
        user_msg_element.appendChild(document.createElement("br"));
        new_msg.appendChild(user_msg_element);

        const data = new URLSearchParams();
        for (const pair of new FormData(form)) {
          data.append(pair[0], pair[1]);
        }

        const controller = new AbortController()

        // 5 second timeout:
        const timeoutId = setTimeout(() => controller.abort(), 5000)

        fetch("https://gcp-chatbot.herokuapp.com/chat", {
          method: "POST",
          body: data,
          signal: controller.signal 
        })
          .then((r) => r.json())
          .then((data) => {
            let bot_msg_element = document.createElement("div");
            bot_msg_element.className = "chatbox2";
            bot_msg_element.append(data["answer"]);
            bot_msg_element.appendChild(document.createElement("br"));
            new_msg.appendChild(bot_msg_element);

            history_element.insertBefore(new_msg, history_element.firstChild);
            user_input.value = "";
          }).catch(function(err) {
            let bot_msg_element = document.createElement("div");
            bot_msg_element.className = "chatbox2";
            bot_msg_element.append(` Bot is coming online! Please wait for a minute before trying again.`);
            bot_msg_element.appendChild(document.createElement("br"));
            new_msg.appendChild(bot_msg_element);

            history_element.insertBefore(new_msg, history_element.firstChild);
            user_input.value = "";
          });
      }
    </script>
  </body>
</html>